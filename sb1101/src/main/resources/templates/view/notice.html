<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>공지사항</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>

        /* HTML과 body 높이를 100%로 설정 */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%; /* 화면 크기 맞추기 */
            width: 100%;
            overflow-x: hidden; /* 수평 스크롤 제거 */
        }

        /* 페이지 배경 설정 */
        body {
            background: url('/images/dack-forest.jpg') no-repeat center center fixed;
            background-size: cover; /* 이미지를 화면에 꽉 차게 설정 */
            color: white; /* 텍스트 색을 흰색으로 설정 */
            font-family: Arial, sans-serif;
            position: relative;
            overflow: hidden; /* 화면 밖으로 나가는 요소들 숨김 */
        }

        /* 비 내리는 효과 */
        .rain {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }

        /* 비방울을 만들기 위한 스타일 */
        .rain-drop {
            position: absolute;
            background: rgba(255, 255, 255, 0.3); /* 흰색으로 설정 */
            border-radius: 50%; /* 원형으로 설정 */
            width: 3px; /* 물방울 크기 */
            height: 7px; /* 물방울 높이 */
            animation: fall 1s linear infinite; /* 물방울이 떨어지는 애니메이션 */
        }

        /* 애니메이션: 물방울이 떨어지도록 설정 */
        @keyframes fall {
            0% {
                transform: translateY(-20px); /* 시작 위치 */
            }
            100% {
                transform: translateY(100vh); /* 끝 위치 */
            }
        }

        /* 카드 스타일 */
        .notice-card {
            position: relative;
            z-index: 2; /* 배경과 비 내리는 효과보다 위에 배치 */
            background-color: rgba(0, 0, 0, 0.7); /* 카드 배경을 반투명하게 설정 */
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.3);
            margin-top: 50px;
        }

        .notice-card h3 {
            color: #ffffff; /* 제목을 노란색으로 강조 */
        }
        .notice-card h4{
            color: #c89f9f;
        }

        .notice-card p {
            font-size: 1.2em;
        }

        .notice-card a {
            margin-top: 20px;
        }

        /* 페이지 내용 */
        .container {
            z-index: 3; /* 카드가 배경이나 비 내리는 효과보다 위에 오도록 설정 */
            position: relative;
        }
        th {
             background-color: white;
             color: black; /* 헤더 텍스트는 검은색 */
         }

        /* 테이블 바디의 배경을 검은색으로 설정 */
        tbody {
            background-color: rgba(255, 255, 255, 0.7);
        }
        .btn-primary {
            background-color: rgba(255, 255, 255, 0.7);
            border-color: rgba(234, 234, 234, 0.7);
            color: #000000; /* 글자색을 하얀색으로 설정 */
            font-size: 1.2em; /* 글자 크기 키우기 */
            padding: 10px 20px; /* 버튼 크기 조정 */
        }

        .btn-primary:hover {
            background-color: rgb(85, 85, 87);
            border-color: rgb(53, 53, 53);
        }

    </style>
</head>
<body>
<div class="rain">
    <!-- 물방울을 3% 간격으로 배치 -->
    <div class="rain-drop" style="left: 3%; animation-duration: 1.5s; animation-delay: 0.3s;"></div>
    <div class="rain-drop" style="left: 6%; animation-duration: 1.7s; animation-delay: 0.1s;"></div>
    <div class="rain-drop" style="left: 9%; animation-duration: 1.3s; animation-delay: 0.4s;"></div>
    <div class="rain-drop" style="left: 12%; animation-duration: 1.8s; animation-delay: 0.7s;"></div>
    <div class="rain-drop" style="left: 15%; animation-duration: 1.6s; animation-delay: 0.2s;"></div>
    <div class="rain-drop" style="left: 18%; animation-duration: 1.4s; animation-delay: 0.5s;"></div>
    <div class="rain-drop" style="left: 21%; animation-duration: 1.9s; animation-delay: 0.6s;"></div>
    <div class="rain-drop" style="left: 24%; animation-duration: 1.7s; animation-delay: 1s;"></div>
    <div class="rain-drop" style="left: 27%; animation-duration: 1.4s; animation-delay: 0.9s;"></div>
    <div class="rain-drop" style="left: 30%; animation-duration: 1.3s; animation-delay: 1.2s;"></div>
    <div class="rain-drop" style="left: 33%; animation-duration: 1.8s; animation-delay: 1.5s;"></div>
    <div class="rain-drop" style="left: 36%; animation-duration: 1.5s; animation-delay: 0.7s;"></div>
    <div class="rain-drop" style="left: 39%; animation-duration: 1.6s; animation-delay: 1.0s;"></div>
    <div class="rain-drop" style="left: 42%; animation-duration: 1.7s; animation-delay: 1.3s;"></div>
    <div class="rain-drop" style="left: 45%; animation-duration: 1.9s; animation-delay: 1.6s;"></div>
    <div class="rain-drop" style="left: 48%; animation-duration: 1.4s; animation-delay: 1.9s;"></div>
    <div class="rain-drop" style="left: 51%; animation-duration: 1.8s; animation-delay: 0.8s;"></div>
    <div class="rain-drop" style="left: 54%; animation-duration: 1.6s; animation-delay: 0.6s;"></div>
    <div class="rain-drop" style="left: 57%; animation-duration: 1.5s; animation-delay: 1.0s;"></div>
    <div class="rain-drop" style="left: 60%; animation-duration: 1.3s; animation-delay: 0.5s;"></div>
    <div class="rain-drop" style="left: 63%; animation-duration: 1.9s; animation-delay: 0.9s;"></div>
    <div class="rain-drop" style="left: 66%; animation-duration: 1.7s; animation-delay: 1.4s;"></div>
    <div class="rain-drop" style="left: 69%; animation-duration: 1.4s; animation-delay: 1.1s;"></div>
    <div class="rain-drop" style="left: 72%; animation-duration: 1.8s; animation-delay: 0.4s;"></div>
    <div class="rain-drop" style="left: 75%; animation-duration: 1.6s; animation-delay: 0.3s;"></div>
    <div class="rain-drop" style="left: 78%; animation-duration: 1.9s; animation-delay: 1.5s;"></div>
    <div class="rain-drop" style="left: 81%; animation-duration: 1.4s; animation-delay: 0.2s;"></div>
    <div class="rain-drop" style="left: 84%; animation-duration: 1.7s; animation-delay: 1.0s;"></div>
    <div class="rain-drop" style="left: 87%; animation-duration: 1.5s; animation-delay: 0.6s;"></div>
    <div class="rain-drop" style="left: 90%; animation-duration: 1.6s; animation-delay: 1.3s;"></div>
    <div class="rain-drop" style="left: 93%; animation-duration: 1.8s; animation-delay: 0.5s;"></div>
    <div class="rain-drop" style="left: 96%; animation-duration: 1.9s; animation-delay: 1.4s;"></div>
    <div class="rain-drop" style="left: 99%; animation-duration: 1.7s; animation-delay: 0.8s;"></div>
</div>


<div th:replace="layout/header :: header"></div>

<div class="container mt-4">
    <h2>공지사항</h2>
    <div th:if="${isAdmin}">
        <a href="/notice/create" class="btn btn-primary mb-3">글 작성</a>
    </div>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>카테고리</th>
            <th>제목</th>
            <th>날짜</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="notice : ${noticeList}">
            <!-- 카테고리와 제목을 하나의 링크로 연결 -->
            <td th:text="${notice.category}"></td>
            <td>
                <a th:href="@{/notice/read(id=${notice.id})}" th:text="${notice.title}"></a>
            </td>
            <td>
                <!-- 날짜 포맷을 설정한 메서드를 사용 -->
                <span th:text="${#temporals.format(notice.date, 'yyyy-MM-dd')}"></span>
            </td>
        </tr>
        </tbody>
    </table>

</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.7/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
